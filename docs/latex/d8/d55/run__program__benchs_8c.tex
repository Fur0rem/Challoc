\doxysection{benchmarks/run\+\_\+program\+\_\+benchs.c File Reference}
\hypertarget{run__program__benchs_8c}{}\label{run__program__benchs_8c}\index{benchmarks/run\_program\_benchs.c@{benchmarks/run\_program\_benchs.c}}


Compare the performance of challoc and libc using real programs.  


{\ttfamily \#include $<$dirent.\+h$>$}\newline
{\ttfamily \#include $<$libgen.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$sys/stat.\+h$>$}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include $<$sys/wait.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$x86intrin.\+h$>$}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structBenchResult}{Bench\+Result}}
\begin{DoxyCompactList}\small\item\em The result of a benchmark. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries BLUE}~"{}\textbackslash{}033\mbox{[}34m"{}
\item 
\#define {\bfseries RESET}~"{}\textbackslash{}033\mbox{[}0m"{}
\item 
\#define {\bfseries BOLD}~"{}\textbackslash{}033\mbox{[}1m"{}
\item 
\#define {\bfseries MAX\+\_\+\+PATH}~1024
\item 
\#define {\bfseries MAX\+\_\+\+COMMAND}~2048
\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{group__Challoc__unit__benchmarks_gafec31286e9f74b9225e8905730bfb67d}{Allocator}} \{ \mbox{\hyperlink{group__Challoc__unit__benchmarks_ggafec31286e9f74b9225e8905730bfb67da8682073a81feafa5727d362f96656fc6}{LIBC}}
, \mbox{\hyperlink{group__Challoc__unit__benchmarks_ggafec31286e9f74b9225e8905730bfb67daf7c734583f24d8691c6807bd2f163e21}{CHALLOC}}
 \}
\begin{DoxyCompactList}\small\item\em The allocator in use. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
uint64\+\_\+t \mbox{\hyperlink{group__Challoc__unit__benchmarks_ga140ff00997818659e12a386342ca5f82}{cpu\+\_\+frequency}} ()
\begin{DoxyCompactList}\small\item\em Approximate the CPU frequency by measuring the number of cycles in a second. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__Challoc__unit__benchmarks_ga75688ae00b440a3ea017e17250a19b46}{recursively\+\_\+list\+\_\+all\+\_\+files}} (const char \texorpdfstring{$\ast$}{*}dir\+\_\+name, char files\mbox{[}$\,$\mbox{]}\mbox{[}MAX\+\_\+\+PATH\mbox{]}, int \texorpdfstring{$\ast$}{*}count)
\begin{DoxyCompactList}\small\item\em Recursively list all files in a directory. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__Challoc__unit__benchmarks_gaf08224e95633c4e1ff0a541046ecb7a7}{compile\+\_\+benchmark}} (const char \texorpdfstring{$\ast$}{*}source\+\_\+file, const char \texorpdfstring{$\ast$}{*}output\+\_\+file, const char \texorpdfstring{$\ast$}{*}flags)
\begin{DoxyCompactList}\small\item\em Compile a benchmark. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__Challoc__unit__benchmarks_ga2a7c64a8ba40cdeefcb6fb3f7d4fc219}{run\+\_\+benchmark}} (const char \texorpdfstring{$\ast$}{*}command, \mbox{\hyperlink{structBenchResult}{Bench\+Result}} \texorpdfstring{$\ast$}{*}result, char \texorpdfstring{$\ast$}{*}command\+\_\+preload)
\begin{DoxyCompactList}\small\item\em Run a benchmark. \end{DoxyCompactList}\item 
char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__Challoc__unit__benchmarks_gad416f7b3e4186a3cfe035de844bcd7fc}{clone\+\_\+and\+\_\+remove\+\_\+extension}} (char \texorpdfstring{$\ast$}{*}filename)
\begin{DoxyCompactList}\small\item\em Clone a string and remove the extension. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__Challoc__unit__benchmarks_gaac150bd544dae3a8824dbbb744a2232e}{write\+\_\+results}} (\mbox{\hyperlink{structBenchResult}{Bench\+Result}} libc, \mbox{\hyperlink{structBenchResult}{Bench\+Result}} challoc, char \texorpdfstring{$\ast$}{*}output\+\_\+dir)
\begin{DoxyCompactList}\small\item\em Write the results of a benchmark to a file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__Challoc__unit__benchmarks_gad899c22630e7cb86c04266bf2651d4bc}{free\+\_\+results}} (\mbox{\hyperlink{structBenchResult}{Bench\+Result}} \texorpdfstring{$\ast$}{*}result)
\begin{DoxyCompactList}\small\item\em Free the results of a benchmark. \end{DoxyCompactList}\item 
int {\bfseries main} (int argc, char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}argv)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
uint64\+\_\+t {\bfseries cpu\+\_\+freq} = 0
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Compare the performance of challoc and libc using real programs. 

